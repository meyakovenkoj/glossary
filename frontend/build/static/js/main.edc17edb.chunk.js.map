{"version":3,"sources":["actions.js","App.js","reportWebVitals.js","index.js"],"names":["url","App","props","style","margin","top","right","bottom","left","position","state","start","value","text","open","done","counter","handleChange","bind","handleSubmit","addWord","handleClose","handleStart","generateText","event","this","setState","target","reason","div","document","getElementById","split","forEach","element","para","createElement","node","createTextNode","appendChild","preventDefault","axios","post","headers","then","res","catch","err","alert","get","window","URL","createObjectURL","Blob","data","link","href","setAttribute","body","click","selection","getSelection","form_data","str","toString","length","elem","getRangeAt","isCollapsed","anchorNode","parentNode","focusNode","span","className","surroundContents","word","flexDirection","paddingTop","justifyContent","Button","variant","onClick","handleDownload","disabled","id","width","OutlinedInput","name","multiline","rows","onChange","placeholder","type","Box","component","sx","border","Fab","Snackbar","autoHideDuration","onClose","Alert","severity","React","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.edc17edb.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst url = 'http://127.0.0.1:5001/'\n\nexport function postWord(form_data) {\n  return axios\n    .post(`${url}api/add`, form_data, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n    .then((res) => {\n      return true\n    })\n    .catch((err) => {\n      alert(err)\n      return false\n    })\n}\n\nexport function startFile() {\n  return axios\n    .post(\n      `${url}api/start`,\n      {},\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      },\n    )\n    .then((res) => {\n      return true\n    })\n    .catch((err) => {\n      alert(err)\n      return false\n    })\n}\n\nexport function downloadFile() {\n  return axios\n    .get(`${url}api/stop`, {})\n    .then((res) => {\n      const url = window.URL.createObjectURL(new Blob([res.data]))\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute('download', 'glossary.csv') //or any other extension\n      document.body.appendChild(link)\n      link.click()\n    })\n    .catch((err) => {\n      alert(err)\n      return false\n    })\n}\n","import * as React from 'react'\nimport Button from '@mui/material/Button'\nimport OutlinedInput from '@mui/material/OutlinedInput'\nimport Box from '@mui/material/Box'\nimport AddIcon from '@mui/icons-material/Add'\nimport * as action from './actions'\nimport './App.css'\nimport { Fab } from '@mui/material'\nimport Snackbar from '@mui/material/Snackbar'\nimport Alert from '@mui/material/Alert'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      start: false,\n      value: '',\n      text: '',\n      open: false,\n      done: '',\n      counter: 0,\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.addWord = this.addWord.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n    this.handleStart = this.handleStart.bind(this)\n    this.generateText = this.generateText.bind(this)\n  }\n\n  style = {\n    margin: 0,\n    top: 'auto',\n    right: 20,\n    bottom: 20,\n    left: 'auto',\n    position: 'fixed',\n  }\n\n  handleChange(event) {\n    this.setState({ value: event.target.value })\n  }\n\n  handleClose(event, reason) {\n    if (reason === 'clickaway') {\n      return\n    }\n    this.setState({ open: false })\n  }\n\n  generateText() {\n    const div = document.getElementById('text')\n    const arr = this.state.value.split('. ')\n    arr.forEach((element) => {\n      const para = document.createElement('p')\n      const node = document.createTextNode(element)\n      para.appendChild(node)\n      div.appendChild(para)\n    })\n  }\n\n  handleSubmit(event) {\n    this.generateText()\n    event.preventDefault()\n  }\n\n  handleStart(event) {\n    action.startFile()\n    this.setState({ start: true })\n    event.preventDefault()\n  }\n\n  handleDownload(event) {\n    action.downloadFile()\n    event.preventDefault()\n  }\n\n  addWord(event) {\n    var selection\n    if (window.getSelection) selection = window.getSelection()\n    else if (typeof document.selection != 'undefined')\n      selection = document.selection\n    let str = selection.toString()\n    if (str.length > 0) {\n      let elem = selection.getRangeAt(0)\n      if (elem && !selection.isCollapsed) {\n        if (\n          selection.anchorNode.parentNode === selection.focusNode.parentNode\n        ) {\n          var span = document.createElement('span')\n          span.className = 'highlight'\n          elem.surroundContents(span)\n        }\n      }\n      let res = action.postWord({\n        word: str,\n        element: elem['commonAncestorContainer']['textContent'],\n      })\n      if (res) {\n        this.setState({\n          open: true,\n          done: str,\n          counter: this.state.counter + 1,\n        })\n      }\n    }\n    event.preventDefault()\n  }\n\n  render() {\n    return (\n      <div className=\"item\">\n        <div\n          className=\"item\"\n          style={{\n            flexDirection: 'row',\n            paddingTop: '10px',\n            justifyContent: 'space-around',\n          }}\n        >\n          <Button variant=\"contained\" onClick={this.handleStart}>\n            Запуск\n          </Button>\n          <Button\n            variant=\"contained\"\n            onClick={this.handleDownload}\n            disabled={!this.state.start}\n          >\n            Скачать\n          </Button>\n        </div>\n        <div id=\"text-enter\" style={{ width: '95%' }} className=\"item\">\n          <OutlinedInput\n            id=\"outlined-basic\"\n            name=\"text\"\n            variant=\"outlined\"\n            multiline\n            rows={5}\n            className=\"item\"\n            value={this.state.value}\n            onChange={this.handleChange}\n            placeholder=\"Введите текст\"\n          />\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            onClick={this.handleSubmit}\n            disabled={!this.state.start}\n          >\n            Начать перевод\n          </Button>\n        </div>\n        <Box\n          component=\"div\"\n          style={{ width: '95%' }}\n          className=\"item\"\n          sx={{ border: '1px dashed grey' }}\n        >\n          <div id=\"text\" className=\"item\">\n            <p></p>\n          </div>\n        </Box>\n        <Fab\n          style={this.style}\n          onClick={this.addWord}\n          disabled={!this.state.start}\n        >\n          <AddIcon />\n        </Fab>\n        <Snackbar\n          open={this.state.open}\n          autoHideDuration={3000}\n          onClose={this.handleClose}\n        >\n          <Alert\n            onClose={this.handleClose}\n            variant=\"outlined\"\n            severity=\"success\"\n            sx={{ width: '100%' }}\n          >\n            {this.state.done + ' words: ' + this.state.counter.toString()}\n          </Alert>\n        </Snackbar>\n      </div>\n    )\n  }\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}